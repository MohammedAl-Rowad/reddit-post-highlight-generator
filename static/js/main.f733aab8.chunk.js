(this["webpackJsonpreddit-post-highlight-generator"]=this["webpackJsonpreddit-post-highlight-generator"]||[]).push([[0],{101:function(t,e,n){},129:function(t,e,n){"use strict";n.r(e);var a,r=n(0),c=n.n(r),i=n(10),o=n.n(i),d=(n(101),n(27)),s=n(17),l=n(178),u=n(158),b=n(177),j=n(169),h=n(181),O=n(171),m=n(184),x=n(170),f=n(172),g=n(173),p=n(167),v=n(35),k=n(54),w=n.n(k),y=n(70),D=n(31),_=n(34),U=n.n(_),R=function(t){var e=Object(d.a)(t,2),n=e[0],a=e[1];return{subRedditInfo:C(n),comments:N(a)}},C=function(t){var e=t.data.children.map((function(t){var e=t.data;return{subredditNamePrefixed:e.subreddit_name_prefixed,author:e.author,url:e.url,title:e.title,body:e.body,numComments:e.num_comments,linkUrl:S(e.url_overridden_by_dest||e.thumbnail)?null:e.url_overridden_by_dest,imgUrl:S(e.url_overridden_by_dest||e.thumbnail)?e.url_overridden_by_dest||e.thumbnail:null}}));return Object(d.a)(e,1)[0]},N=function(t){return t.data.children.map((function(t){var e=t.data;return{body:e.body,author:e.author}}))},S=function(t){return null!==t.match(/\.(jpeg|jpg|gif|png)$/)},P=Object(D.b)("reddit/fetchRedditData",function(){var t=Object(y.a)(w.a.mark((function t(e){var n,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.a.get("".concat(e,".json"));case 2:return n=t.sent,a=n.data,t.abrupt("return",R(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),A=Object(D.c)({name:"redditData",initialState:{data:{},subRedditAbout:{},status:null},reducers:{addSubRedditAbout:function(t,e){var n=e.payload;t.subRedditAbout=n}},extraReducers:(a={},Object(v.a)(a,P.fulfilled,(function(t,e){var n=e.payload;t.data=n,t.status="SUCCESS"})),Object(v.a)(a,P.pending,(function(t){t.status="PENDING"})),Object(v.a)(a,P.rejected,(function(t){t.status="FAILED"})),a)}),E=A.actions.addSubRedditAbout,I=A.reducer,F=function(t){return t.redditData.status},L=function(t){return t.redditData.data.subRedditInfo},G=function(t){var e;return null===(e=t.redditData.data.comments)||void 0===e?void 0:e.slice(0,10)},B=function(t){return t.redditData.subRedditAbout.iconUrl},H=n(71),T=n(72),W=n.n(T),z=n(156),J=n(160),M=n(162),$=n(163),q=n(183),K=n(165),Q=n(40),V=n(166),X=n(161),Y=n(164),Z=n(179),tt=n(4),et=Object(z.a)((function(){return{root:{backgroundColor:"#1A1A1B",color:"#D7DADC","& *":{color:"#D7DADC"}},media:{height:"40vh",paddingTop:"56.25%",backgroundSize:"contain",backgroundRepeat:"no-repeat"},avatar:{backgroundColor:"#149EF0"}}})),nt="https://www.reddit.com",at=function(t){var e=t.onDownload,n=t.iconUrl,a=t.subredditNamePrefixed,c=t.linkUrl,i=t.author,o=t.title,s=t.imgUrl,b=t.isComment,j=void 0!==b&&b,h=et(),O=Object(r.useState)(Object(Z.a)()),m=Object(d.a)(O,1)[0],x=Object(r.useState)(""),f=Object(d.a)(x,2),g=f[0],p=f[1],v=Object(r.useCallback)((function(){return e(m)}),[m,e]);return Object(r.useEffect)((function(){j&&U.a.get("".concat(nt,"/user/").concat(i,"/about/.json")).then((function(t){var e=t.data.data;p(e.snoovatar_img||e.icon_img)}))}),[j]),Object(tt.jsx)(l.a,{mt:4,children:Object(tt.jsxs)(u.a,{container:!0,spacing:1,children:[Object(tt.jsx)(u.a,{item:!0,xs:12,md:3,xl:3,justify:"flex-end",container:!0,children:Object(tt.jsx)(l.a,{children:Object(tt.jsx)(J.a,{"aria-label":"download",size:"medium",onClick:v,children:Object(tt.jsx)(X.a,{})})})}),Object(tt.jsx)(u.a,{item:!0,xs:12,md:6,xl:6,children:Object(tt.jsxs)(M.a,{className:h.root,id:m,children:[Object(tt.jsx)($.a,{avatar:Object(tt.jsx)(q.a,{"aria-label":"recipe",className:h.avatar,src:n||g,children:j?"U":"R"}),title:j?Object(tt.jsx)("a",{href:"".concat(nt,"/u/").concat(i),rel:"noreferrer",target:"_blank",children:"u/".concat(i)}):a,action:!!c&&Object(tt.jsx)(J.a,{"aria-label":"settings",children:Object(tt.jsx)(Y.a,{})}),subheader:j?"":Object(tt.jsx)("a",{href:"".concat(nt,"/u/").concat(i),rel:"noreferrer",target:"_blank",children:"u/".concat(i)})}),Object(tt.jsx)(K.a,{children:Object(tt.jsx)(Q.a,{variant:"h5",color:"textSecondary",component:"p",children:o})}),!!s&&Object(tt.jsx)(V.a,{className:h.media,image:s})]})}),Object(tt.jsx)(u.a,{item:!0,xs:12,md:3,xl:3})]})})},rt=Object(r.memo)(at),ct=function(){var t=Object(s.c)(L),e=Object(s.c)(G),n=Object(s.c)(B),a=Object(s.b)();Object(r.useEffect)((function(){t&&U.a.get("".concat("https://www.reddit.com","/").concat(t.subredditNamePrefixed,"/about/.json")).then((function(t){var e=t.data.data;a(E({iconUrl:e.icon_img}))}))}),[t]);var c=Object(r.useCallback)((function(t){W()(document.getElementById(t),{letterRendering:!0,useCORS:!0,logging:!0}).then((function(t){Object(H.saveAs)(t.toDataURL(),"".concat(Object(Z.a)(),".png"))}))}),[]);return t?Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(rt,{onDownload:c,iconUrl:n,linkUrl:t.linkUrl,subredditNamePrefixed:t.subredditNamePrefixed,author:t.author,title:t.title,imgUrl:t.imgUrl}),e.map((function(n){return Object(tt.jsx)(rt,{isComment:!0,onDownload:c,linkUrl:t.linkUrl,subredditNamePrefixed:t.subredditNamePrefixed,author:n.author,title:n.body},e.title)}))]}):null},it=n(77),ot=n(50),dt=function(){var t=Object(s.b)(),e=Object(s.c)(ht),n=Object(s.c)(F),a=Object(r.useState)(""),c=Object(d.a)(a,2),i=c[0],o=c[1],v=Object(p.a)((function(e){Object(it.isUri)(e)?(t(bt(e)),o("")):o("Not a valid URL!")}),300);return Object(tt.jsx)(l.a,{mt:4,children:Object(tt.jsxs)(u.a,{container:!0,spacing:1,children:[Object(tt.jsx)(u.a,{item:!0,xs:12,md:4,xl:4}),Object(tt.jsxs)(u.a,{item:!0,xs:12,md:4,xl:4,children:[Object(tt.jsxs)(l.a,{display:"flex",children:[Object(tt.jsx)(b.a,{error:!!i,variant:"outlined",fullWidth:!0,helperText:"Paste a link to a reddit post here then hit the button",onChange:function(t){var e=t.target.value;return v.callback(e)},InputProps:{startAdornment:Object(tt.jsx)(j.a,{position:"start",children:Object(tt.jsx)(x.a,{})})}}),Object(tt.jsx)(l.a,{ml:2,children:Object(tt.jsx)(h.a,{title:"Generate Post HighLights",children:Object(tt.jsx)("span",{children:Object(tt.jsx)(O.a,{color:"primary",onClick:function(){ot.b.promise(t(P(e)),{loading:Object(tt.jsx)("i",{children:"Fetching data..."}),success:function(t){if(t.error)throw new Error;return Object(tt.jsx)("b",{children:Object(tt.jsx)("i",{children:"Fetched Data"})})},error:Object(tt.jsx)("b",{children:"Something went wrong!"})})},"aria-label":"Generate Post HighLights",disabled:"PENDING"===n||!!i||!e,children:Object(tt.jsx)(f.a,{})})})})})]}),!!i&&Object(tt.jsx)(m.a,{label:i,color:"secondary",variant:"outlined",icon:Object(tt.jsx)(g.a,{})})]}),Object(tt.jsx)(u.a,{item:!0,xs:12,md:4,xl:4})]})})},st=n(79),lt=n.n(st),ut=Object(D.c)({name:"postLinkInput",initialState:{link:""},reducers:{addLink:function(t,e){var n=e.payload,a=lt()(n),r=a.origin,c=a.pathname;t.link="".concat(r).concat(c)}},extraReducers:{}}),bt=ut.actions.addLink,jt=ut.reducer,ht=function(t){return t.postLinkInput.link},Ot=n(174),mt=n(175),xt=function(){return Object(tt.jsx)(Ot.a,{position:"static",children:Object(tt.jsx)(mt.a,{children:Object(tt.jsx)(Q.a,{variant:"h6",children:"RPHG"})})})},ft=function(){return Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(xt,{}),Object(tt.jsx)(dt,{}),Object(tt.jsx)(ct,{}),Object(tt.jsx)(ot.a,{position:"top-center"})]})},gt=Object(D.a)({reducer:{postLinkInput:jt,redditData:I}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=n(176),vt=n(80),kt=n(51),wt=Object(vt.a)({palette:{type:"light",primary:{main:"#4E7F97"},secondary:{main:kt.a[500]},error:{main:kt.a[500]},background:{default:"#A60303"}},overrides:{MuiTextField:{root:{color:"#4E7F97",borderColor:"#4E7F97"}}}});o.a.render(Object(tt.jsx)(c.a.StrictMode,{children:Object(tt.jsx)(s.a,{store:gt,children:Object(tt.jsx)(pt.a,{theme:wt,children:Object(tt.jsx)(ft,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.f733aab8.chunk.js.map